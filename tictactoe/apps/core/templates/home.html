{% extends 'base.html' %}
{% load static %}
{% block content %}
    <link rel="stylesheet" href="{% static "css/accounts/accounts.css" %}">
    <link rel="stylesheet" href="{% static "css/core/core.css" %}">

    <div class="container-big">
        <input type="hidden" name="username" id="username" value="{{ user.username }}" />
        <h1>TicTacToe</h1>
        <div>

            <div class="row">
                <div class="col-3 chat-window">
                    <div id="messages" class="messages">
                        <!-- Messages -->
                    </div>
                    <form id="main-chat-form" class="chat-input">
                        <label for="main_chat_message"></label>
                        <input type="text" style="width: 100%;" name="main_chat_message" id="main_chat_message" placeholder="Type a message..." />
                    </form>
                </div>
                <div class="col-9">
                    <h3>Games Played</h3>
                    <!-- Sorting Controls-->
                    <div class="mb-3 d-flex align-items-center">
                        <div class="me-3">
                            <label for="game-filter" class="form-label">Filter by Outcome:</label>
                            <select id="game-filter" class="form-select w-auto">
                                <option value="all">All Games</option>
                                <option value="win">Win</option>
                                <option value="lose">Lose</option>
                            </select>
                        </div>
                        <div>
                            <label for="date-sort" class="form-label">Sort by Date:</label>
                            <select id="date-sort" class="form-select w-auto">
                                <option value="desc">Descending</option>
                                <option value="asc">Ascending</option>
                            </select>
                        </div>
                    </div>
                    <!-- Table -->
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Winner</th>
                                <th scope="col">Player X</th>
                                <th scope="col">Player O</th>
                                <th scope="col">Date</th>
                            </tr>
                        </thead>
                        <tbody id="games-table-body">
                            {% include 'partials/games_table.html' %}
                        </tbody>
                    </table>

                    <!-- Pagination controls -->
                    <div class="pagination-controls d-flex align-items-center">
                        <button id="prev-page" class="btn btn-secondary" disabled>Previous</button>
                        <span id="page-info" class="mx-3">Page {{ games_played.number }} of {{ games_played.paginator.num_pages }}</span>
                        <button id="next-page" class="btn btn-secondary" {% if not games_played.has_next %}disabled{% endif %}>Next</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script src="{% static 'js/home.js' %}"></script>
{% endblock %}